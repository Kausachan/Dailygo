(this.webpackJsonpdailygo=this.webpackJsonpdailygo||[]).push([[0],{44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(27),c=n.n(r),i=(n(44),n(7)),u=n.n(i),o=n(6),l=n(11),d=n(16),p=n(17),h=n(19),b=n(18),j=n(24),m=(n(46),n(33)),f=(n(47),n(2)),v=function(e){var t=e.children,n=e.IsGoogleSignin,a=Object(m.a)(e,["children","IsGoogleSignin"]);return Object(f.jsx)("button",Object(o.a)(Object(o.a)({className:"".concat(n?"google-sign-in":""," custom-button")},a),{},{children:t}))},O=(n(49),function(e){var t=e.invalid,n=e.handleChange,a=e.label,s=Object(m.a)(e,["invalid","handleChange","label"]);return Object(f.jsxs)("div",{className:"group",children:[Object(f.jsx)("input",Object(o.a)({className:"".concat(t?"red":""," form-input"),onChange:n},s)),a?Object(f.jsx)("label",{className:"".concat(s.value.length?"shrink":""," form-input-label"),children:a}):null]})}),x=n(21),k=(n(69),n(51),function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,s,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.doc("users/".concat(t.uid));case 4:return a=e.sent,e.next=7,a.get();case 7:if(e.sent.exists){e.next=21;break}return s=t.displayName,r=t.email,c=new Date,0,i=[{task:"",completed:"false"}],e.prev=13,e.next=16,a.set(Object(o.a)({displayName:s,email:r,createdAt:c,bingos:0,tasks:i},n));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),console.log(e.t0);case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,null,[[13,18]])})));return function(t,n){return e.apply(this,arguments)}}());x.a.apps.length?x.a.app():x.a.initializeApp({apiKey:"AIzaSyCh1bxSYvZxT4u_obnIYAp6jknOx3YfYAM",authDomain:"civic-eye-240516.firebaseapp.com",projectId:"civic-eye-240516",storageBucket:"civic-eye-240516.appspot.com",messagingSenderId:"214569337984",appId:"1:214569337984:web:b416bcd09c4560b2361265",measurementId:"G-L3W7K2W96N"});var g=x.a.auth(),y=x.a.firestore(),w=new x.a.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});x.a;var N=n(25),C=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,s,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,s=a.email,r=a.password,c=e.props.setLoader,n.preventDefault(),function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.signInWithEmailAndPassword(s,r);case 3:e.setState({email:"",password:"",invalid:!1}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.setState({email:"",password:"",invalid:!0});case 9:return t.prev=9,c(null),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}()(),c(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(j.a)({},a,s))},e.state={email:"",password:"",invalid:!1},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.invalid;return Object(f.jsxs)("div",{className:"sign-in",children:[Object(f.jsx)("h3",{children:"I Already Have An Account"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[a?Object(f.jsx)("p",{style:{color:"#c41e0c"},children:"* invalid username or password *"}):null,Object(f.jsx)(O,{invalid:a,name:"email",type:"email",label:"Email",value:t,handleChange:this.handleChange,required:!0}),Object(f.jsx)(O,{invalid:a,name:"password",type:"password",label:"Password",value:n,handleChange:this.handleChange,required:!0}),Object(f.jsxs)("div",{className:"button",children:[Object(f.jsx)(v,{type:"submit",onClick:this.handleSubmit,children:" SIGN IN "}),Object(f.jsx)(v,{type:"submit",onClick:function(){return g.signInWithPopup(w)},IsGoogleSignin:!0,children:" SIGN IN WITH GOOGLE "})]})]})]})}}]),n}(a.Component),S=Object(N.b)(null,(function(e){return{setLoader:function(t){return e(function(e){return{type:"SET_LOADER",payload:e}}(t))}}}))(C),A=(n(56),n(57),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,s,r,c,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,s=a.displayName,r=a.email,c=a.confirmPassword,(i=a.password)===c){t.next=5;break}return alert("password don't match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,g.createUserWithEmailAndPassword(r,i);case 8:o=t.sent,l=o.user,k(l,{displayName:s}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),alert("error occured try again later..."),console.error(t.t0);case 17:e.setState({displayName:"",password:"",confirmPassword:"",email:""});case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(j.a)({},a,s))},e.state={displayName:"",password:"",confirmPassword:"",email:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,a=e.confirmPassword,s=e.password;return Object(f.jsxs)("div",{className:"sign-up",children:[Object(f.jsx)("h1",{className:"title",style:{fontWeight:"bold"},children:" I Don't Have An Account"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)(O,{type:"text",label:"Name",value:t,name:"displayName",handleChange:this.handleChange,required:!0}),Object(f.jsx)(O,{type:"email",label:"Email",value:n,name:"email",handleChange:this.handleChange,required:!0}),Object(f.jsx)(O,{type:"password",label:"Password",value:s,name:"password",handleChange:this.handleChange,required:!0}),Object(f.jsx)(O,{type:"password",label:"Confirm Password",value:a,name:"confirmPassword",handleChange:this.handleChange,required:!0}),Object(f.jsx)(v,{type:"submit",children:" SIGN UP "})]})]})}}]),n}(s.a.Component)),U=function(){return Object(f.jsxs)("div",{className:"signin-in-and-sign-up",children:[Object(f.jsx)(S,{}),Object(f.jsx)(A,{})]})},I=n(8),P=(n(58),n(59),n(60),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.setState({completed:!a.state.completed},(function(){a.props.completedTask(a.props.i,a.state.completed)}))},a.state={completed:null},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({completed:this.props.completed})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"".concat(this.state.completed?"strike":""," task-bar"),children:[Object(f.jsx)("div",{className:"",children:this.props.task}),Object(f.jsxs)("div",{className:"button-container",children:[Object(f.jsx)("button",{className:"button fa glyphicon glyphicon-ok-sign",onClick:function(){return e.handleClick()}}),Object(f.jsx)("button",{className:"button fa glyphicon glyphicon-remove-sign",onClick:function(){return e.props.deleteTask(e.props.i)}})]})]})}}]),n}(s.a.Component)),T=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).unsubscribe=null,e.unsubscribe_snap=null,e.deleteTask=function(t){var n=e.state.currentUser.tasks.filter((function(e,n){return n!==t+1}));e.state.userRef.update({tasks:n})},e.completedTask=function(t,n){var a=e.state.currentUser.tasks.map((function(e,a){return a===t+1?Object(o.a)(Object(o.a)({},e),{},{completed:n}):Object(o.a)({},e)}));e.state.userRef.update({tasks:a})},e.state={currentUser:{}},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=g.onAuthStateChanged(function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,y.doc("users/".concat(n.uid));case 3:return a=t.sent,t.next=6,a.onSnapshot((function(t){e.setState({currentUser:Object(o.a)({},t.data()),userRef:a})}));case 6:e.unsubscribe_snap=t.sent;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribe_snap()}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return Object(f.jsx)("div",{className:"task-box",children:Object(f.jsx)("div",{children:Object.keys(t).length>0&&t.tasks.length>1?t.tasks.filter((function(e,t){return t>0})).map((function(t,n){return Object(f.jsx)(P,{i:n,completedTask:e.completedTask,completed:t.completed,task:t.task,deleteTask:e.deleteTask},n)})):0===Object.keys(t).length||1===t.tasks.length?Object(f.jsx)("h1",{className:"no-task",children:" No tasks Added "}):null})})}}]),n}(s.a.Component),E=(n(61),n(62),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).unsubscribe=null,e.handleSubmit=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,s,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.user||""===e.state.value.task.trim()){t.next=13;break}return t.next=3,y.doc("users/".concat(e.state.user.uid));case 3:return a=t.sent,t.next=6,a.get();case 6:return s=t.sent,t.next=9,s.data();case 9:r=t.sent,(c=r.tasks).push(Object(o.a)({},e.state.value)),a.update({tasks:c});case 13:e.setState({value:{task:""}});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({value:{task:t.target.value,completed:!1}})},e.handlePress=function(t){13===t.which&&e.handleSubmit()},e.state={value:{task:"",completed:!1},user:null},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=g.onAuthStateChanged(function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({user:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"task-input-button",children:[Object(f.jsx)("div",{className:"add-task",children:"Add Task"}),Object(f.jsx)("input",{className:"task-input",type:"text",value:this.state.value.task,onKeyPress:this.handlePress,onChange:this.handleChange}),Object(f.jsx)("button",{className:"add-button glyphicon glyphicon-plus-sign",onClick:this.handleSubmit})]})}}]),n}(s.a.Component)),D=function(){return Object(f.jsxs)("div",{className:"home-task-box",children:[Object(f.jsx)("div",{className:"home-text",children:"Task Box"}),Object(f.jsx)("div",{className:"task-input-align",children:Object(f.jsx)(T,{})}),Object(f.jsx)("div",{className:"home-task-input",children:Object(f.jsx)(E,{})})]})},G=n(28),_=(n(63),Object(I.f)((function(e){var t=e.bingos,n=e.currentUser,a=e.history;return Object(f.jsxs)("div",{className:"header font",children:[Object(f.jsx)(G.b,{className:"".concat(n?"":"no-click"," displayName font"),to:"/home",children:"DailyGo"}),Object(f.jsxs)("div",{className:"option font",children:[n?Object(f.jsxs)("div",{className:"options",children:[" Bingos ","".concat(t)," "]}):null,Object(f.jsx)("div",{children:n?Object(f.jsx)("div",{className:"options options-clickable font",onClick:function(){a.push("/"),g.signOut()},children:" SIGN OUT "}):null})]})]})}))),W="SET_CURRENT_USER",R=n(38),q=n.n(R),L=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).unsubscribe=null,e.unsubscribe_snap=null,e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=(t.currentUser,t.setUserAction);this.unsubscribe=g.onAuthStateChanged(function(){var t=Object(l.a)(u.a.mark((function t(a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return e.props.history.push("/home"),t.next=4,k(a);case 4:s=t.sent,e.unsubscribe_snap=s.onSnapshot((function(e){n(Object(o.a)({id:e.id},e.data()))})),t.next=9;break;case 8:n(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribe_snap()}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{currentUser:this.props.currentUser,bingos:0}),this.props.loader?Object(f.jsx)(q.a,{loaded:!1,lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1.5,trail:60,shadow:!0,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%",scale:1,loadedClassName:"loadedContent"}):null,Object(f.jsxs)(I.c,{children:[Object(f.jsx)(I.a,{exact:!0,path:"/",component:U}),Object(f.jsx)(I.a,{exact:!0,path:"/home",component:D})]})]})}}]),n}(a.Component),M=Object(N.b)((function(e){var t=e.user,n=e.loader;return{currentUser:t.currentUser,loader:n.loader}}),(function(e){return{setUserAction:function(t){return e(function(e){return{type:W,payload:e}}(t))}}}))(Object(I.f)(L)),B=n(30),Y=n(39),z=n.n(Y),H={currentUser:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(o.a)(Object(o.a)({},e),{},{currentUser:t.payload});default:return e}},J={loader:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADER":return Object(o.a)(Object(o.a)({},e),{},{loader:t.payload});default:return e}},F=Object(B.b)({user:K,loader:Z}),Q=[z.a],V=Object(B.c)(F,B.a.apply(void 0,Q));c.a.render(Object(f.jsx)(N.a,{store:V,children:Object(f.jsx)(G.a,{children:Object(f.jsx)(M,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.700c698e.chunk.js.map